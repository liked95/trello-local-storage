{"ast":null,"code":"var _jsxFileName = \"D:\\\\trello\\\\src\\\\components\\\\List\\\\index.jsx\",\n  _s = $RefreshSig$();\nimport React, { useContext, useRef, useState, useEffect, Component } from 'react';\nimport { Context } from '../../context';\nimport { addCard, deleteList, updateListOrder } from '../../store/actions';\nimport Card from '../Card';\nimport CloseIcon from '@mui/icons-material/Close';\nimport useClickOutsideHandler from '../../hooks/useOnClickOutside';\nimport { createListId, reorder, updateOrder } from '../../utils';\nimport _ from 'lodash';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction List(_ref) {\n  _s();\n  let {\n    list,\n    onHandleGetDragList,\n    onHandleDeleteDragCard\n  } = _ref;\n  // console.log(deleteData)\n  const {\n    title,\n    cards,\n    id,\n    cardOrder\n  } = list;\n  // console.log(list)\n\n  const {\n    dispatchList,\n    initialData\n  } = useContext(Context);\n  const [cardValue, setCardValue] = useState(\"\");\n  const [isCardShown, setIsCardShown] = useState(false);\n  const [boardCards, setBoardCards] = useState([]);\n  useEffect(() => {\n    reorder(cards, cardOrder, 'id');\n    // console.log(cards)\n    setBoardCards(cards);\n  }, [list]);\n\n  // lift up state cards update in the same list\n  const handleUpdateCardsSameList = obj => {\n    // console.log(obj, cardOrder)\n    updateOrder(obj.dragCardId, obj.dropCardId, cardOrder);\n    // console.log(cardOrder)\n    const updateCards = reorder(_.cloneDeep(boardCards), cardOrder, 'id');\n    // console.log(updateCards)\n    setBoardCards(updateCards);\n    const data = _.cloneDeep(initialData);\n  };\n\n  // lift up state cards update in the different lists\n  const handleUpdateCardsBetweenLists = obj => {\n    console.log(obj);\n    console.log(id);\n    const {\n      dragCardId,\n      dragListId,\n      dropCardId,\n      dropListId\n    } = obj;\n\n    // handle source list\n    if (dragListId == id) {\n      console.log(id);\n    }\n\n    // onHandleGetDragList({ dragListId, dragCardId })\n    // should handle global state later\n    document.getElementById(dragCardId).remove();\n    const lists = _.cloneDeep(initialData.lists);\n    console.log(lists);\n    const dragCard = lists.find(list => list.id == dragListId).cards.find(card => card.id == dragCardId);\n    console.log(dragCard);\n    dragCard.listId = dropListId;\n    console.log(dragCard);\n    const droppableCards = _.cloneDeep(boardCards);\n    // console.log(cards, dragCard)\n\n    // insert drag card after dropcard\n    const dropCardIndex = droppableCards.findIndex(card => card.id == dropCardId);\n    droppableCards.splice(dropCardIndex + 1, 0, dragCard);\n    console.log(droppableCards);\n    setBoardCards(droppableCards);\n  };\n  const cardInputRef = useRef();\n\n  // handle close when click outside\n  const addCardPanelRef = useRef();\n  useClickOutsideHandler(addCardPanelRef, () => setIsCardShown(false));\n  const handleDeleteList = id => {\n    dispatchList(deleteList(id));\n  };\n  const handleShowAddCardControl = () => {\n    setIsCardShown(true);\n    if (cardInputRef.current) {\n      cardInputRef.current.focus();\n    }\n  };\n  const handleAddCard = listId => {\n    if (!cardValue.trim()) return;\n    const newCard = {\n      listId: listId,\n      id: 'card-' + createListId(),\n      content: cardValue.trim()\n    };\n    dispatchList(addCard(newCard));\n    // const updateCards = _.cloneDeep(cards)\n    // setBoardCards([...updateCards, newCard])\n    setCardValue(\"\");\n  };\n  const handleHideAddCardControl = () => {\n    setIsCardShown(false);\n  };\n  const handleKeyDownCardInput = e => {\n    if (e.keyCode == 13) {\n      handleAddCard(id);\n    }\n  };\n\n  // DnD\n\n  const [isMouseDown, setIsMouseDown] = useState(false);\n  // const [draggable, setDraggable] = useState(false)\n  // const [onDragCoordDif, setOnDragCoordDif] = useState({})\n  var onDragCoordDiff = {};\n  const handleDragStart = e => {\n    console.log(e.currentTarget.id);\n    var img = new Image();\n    img.src = 'data:image/gif;base64,R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs=';\n    e.dataTransfer.setDragImage(img, 0, 0);\n    e.dataTransfer.setData(\"text\", e.currentTarget.id);\n    const clonedEle = e.currentTarget.cloneNode(true);\n    clonedEle.id = 'clone-element';\n    clonedEle.style.display = \"none\";\n    e.currentTarget.closest(\".list-wrapper\").appendChild(clonedEle);\n    onDragCoordDiff = {\n      dx: e.currentTarget.getBoundingClientRect().x - e.clientX,\n      dy: e.currentTarget.getBoundingClientRect().y - e.clientY\n    };\n  };\n  const handleOnDrag = e => {\n    // console.log(\"List\", e)\n\n    // style source element\n    // e.target.style.display = \"none\"\n    e.currentTarget.style.pointerEvents = 'none';\n    const diffX = onDragCoordDiff.dx;\n    const diffY = onDragCoordDiff.dy;\n    // console.log(diffX, diffY)\n\n    const sourceEle = e.currentTarget;\n    // console.log(e)\n    sourceEle.style.position = 'fixed';\n    sourceEle.style.width = '272px';\n    sourceEle.style.left = e.clientX + diffX + 'px';\n    sourceEle.style.top = e.clientY + diffY + 'px';\n    sourceEle.style.rotate = \"3deg\";\n    sourceEle.style.zIndex = 1000;\n    const cloneEle = document.getElementById(\"clone-element\");\n    cloneEle.style.display = \"block\";\n    Array.from(cloneEle.querySelectorAll(\"div\")).forEach(div => {\n      // div.style.backgroundColor = \"red\"\n      div.style.visibility = \"hidden\";\n    });\n    cloneEle.style.backgroundColor = \"rgba(0, 0, 0, 0.2)\";\n    // console.log(\"on drag list\")\n  };\n\n  const handleDragEnd = e => {\n    // allow user to drag again \n    e.currentTarget.style.pointerEvents = 'auto';\n    // reset style\n    e.currentTarget.style.rotate = \"0deg\";\n    e.currentTarget.style.position = 'relative';\n    e.currentTarget.style.left = 0;\n    e.currentTarget.style.top = 0;\n    e.currentTarget.style.zIndex = 0;\n    e.currentTarget.style.display = \"block\";\n    console.log('List drag end');\n\n    //disable drag attribute when mouse release\n    let allLists = Array.from(document.querySelectorAll(\".list-content\"));\n    allLists.forEach(list => list.setAttribute('draggable', false));\n    document.getElementById(\"clone-element\").remove();\n\n    // reset coordinate\n    onDragCoordDiff = {};\n  };\n  const handleOnDrop = e => {\n    e.preventDefault();\n\n    // console.log(e)\n\n    // handle sorting list ID logic\n    const sourceListId = e.dataTransfer.getData(\"text\");\n\n    // disable card drop on list\n    if (sourceListId.includes('&')) return;\n    const targetListId = e.currentTarget.closest(\".list-content\").id;\n\n    // console.log(\"Source: \", sourceListId)\n    // console.log(\"Target: \", targetListId)\n\n    if (sourceListId && targetListId) {\n      updateOrder(sourceListId, targetListId, initialData.listOrder);\n\n      // lift up state to App Component\n      dispatchList(updateListOrder(initialData.listOrder));\n    }\n  };\n  const handleDragOver = e => {\n    e.preventDefault();\n    // console.log('data duoc get la', e.dataTransfer);\n    // console.log('droppable element la ');\n  };\n\n  const handleOnClick = e => {\n    const value = e.currentTarget.getBoundingClientRect();\n    // console.log('rect', value.x, value.y)\n    // console.log('mouse', e.clientX, e.clientY)\n  };\n\n  useEffect(() => {\n    document.addEventListener('mouseup', e => {\n      e.preventDefault();\n      // console.log(\"Tha r ne\")\n      // setDraggable(false)\n    });\n  }, []);\n\n  // add draggable att to parent\n  const handleAddDraggable = e => {\n    e.currentTarget.closest(\".list-content\").setAttribute(\"draggable\", true);\n  };\n  const handleRemoveDraggable = e => {\n    e.currentTarget.closest(\".list-content\").setAttribute(\"draggable\", false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"list-wrapper droppable-columns\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"list-content\",\n      onDragStart: handleDragStart,\n      onDragEnd: handleDragEnd,\n      onDrag: handleOnDrag,\n      onClick: handleOnClick,\n      onDragOver: handleDragOver,\n      onDrop: handleOnDrop,\n      id: id,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"list-heading\",\n        onMouseDown: handleAddDraggable,\n        onMouseUp: handleRemoveDraggable\n        // onMouseMove={handleOnMouseMove}\n        ,\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"list-header-name\",\n          children: title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"list-cards\",\n        children: boardCards.map((card, index) => /*#__PURE__*/_jsxDEV(Card, {\n          card: card,\n          onUpdateCardsSameList: handleUpdateCardsSameList,\n          onUpdateCardsBetweenLists: handleUpdateCardsBetweenLists\n          // onHandleGetDragList={onHandleGetDragList}\n        }, card.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 54\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 17\n      }, this), !isCardShown && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"add-card-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"add-btn\",\n          onClick: handleShowAddCardControl,\n          children: \"+ Add a card\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"del-btn\",\n          onClick: () => handleDeleteList(id),\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 37\n      }, this), isCardShown && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"add-card-control\",\n        ref: addCardPanelRef,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"first-row\",\n          children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n            type: \"text\",\n            className: \"add-card-title\",\n            placeholder: \"Enter a title  for this card...\",\n            ref: cardInputRef,\n            value: cardValue,\n            onChange: e => setCardValue(e.target.value),\n            onKeyDown: handleKeyDownCardInput\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"second-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"add-list-btn\",\n            onClick: () => handleAddCard(id),\n            children: \"Add card\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"close-add-list-btn\",\n            onClick: handleHideAddCardControl,\n            children: /*#__PURE__*/_jsxDEV(CloseIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 36\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 286,\n    columnNumber: 9\n  }, this);\n}\n_s(List, \"p+Na5ZCKFVtvdWhBA7PzDz2D7aM=\", false, function () {\n  return [useClickOutsideHandler];\n});\n_c = List;\nexport default List;\nvar _c;\n$RefreshReg$(_c, \"List\");","map":{"version":3,"names":["React","useContext","useRef","useState","useEffect","Component","Context","addCard","deleteList","updateListOrder","Card","CloseIcon","useClickOutsideHandler","createListId","reorder","updateOrder","_","List","list","onHandleGetDragList","onHandleDeleteDragCard","title","cards","id","cardOrder","dispatchList","initialData","cardValue","setCardValue","isCardShown","setIsCardShown","boardCards","setBoardCards","handleUpdateCardsSameList","obj","dragCardId","dropCardId","updateCards","cloneDeep","data","handleUpdateCardsBetweenLists","console","log","dragListId","dropListId","document","getElementById","remove","lists","dragCard","find","card","listId","droppableCards","dropCardIndex","findIndex","splice","cardInputRef","addCardPanelRef","handleDeleteList","handleShowAddCardControl","current","focus","handleAddCard","trim","newCard","content","handleHideAddCardControl","handleKeyDownCardInput","e","keyCode","isMouseDown","setIsMouseDown","onDragCoordDiff","handleDragStart","currentTarget","img","Image","src","dataTransfer","setDragImage","setData","clonedEle","cloneNode","style","display","closest","appendChild","dx","getBoundingClientRect","x","clientX","dy","y","clientY","handleOnDrag","pointerEvents","diffX","diffY","sourceEle","position","width","left","top","rotate","zIndex","cloneEle","Array","from","querySelectorAll","forEach","div","visibility","backgroundColor","handleDragEnd","allLists","setAttribute","handleOnDrop","preventDefault","sourceListId","getData","includes","targetListId","listOrder","handleDragOver","handleOnClick","value","addEventListener","handleAddDraggable","handleRemoveDraggable","map","index","target"],"sources":["D:/trello/src/components/List/index.jsx"],"sourcesContent":["import React, { useContext, useRef, useState, useEffect, Component } from 'react'\r\nimport { Context } from '../../context'\r\nimport { addCard, deleteList, updateListOrder } from '../../store/actions'\r\nimport Card from '../Card'\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport useClickOutsideHandler from '../../hooks/useOnClickOutside';\r\nimport { createListId, reorder, updateOrder } from '../../utils';\r\nimport _ from 'lodash'\r\n\r\n\r\n\r\nfunction List({ list, onHandleGetDragList, onHandleDeleteDragCard }) {\r\n    // console.log(deleteData)\r\n    const { title, cards, id, cardOrder } = list\r\n    // console.log(list)\r\n\r\n    const { dispatchList, initialData } = useContext(Context)\r\n\r\n    const [cardValue, setCardValue] = useState(\"\")\r\n    const [isCardShown, setIsCardShown] = useState(false)\r\n    const [boardCards, setBoardCards] = useState([])\r\n\r\n    useEffect(() => {\r\n        reorder(cards, cardOrder, 'id')\r\n        // console.log(cards)\r\n        setBoardCards(cards)\r\n    }, [list])\r\n\r\n    // lift up state cards update in the same list\r\n    const handleUpdateCardsSameList = (obj) => {\r\n        // console.log(obj, cardOrder)\r\n        updateOrder(obj.dragCardId, obj.dropCardId, cardOrder)\r\n        // console.log(cardOrder)\r\n        const updateCards = reorder(_.cloneDeep(boardCards), cardOrder, 'id')\r\n        // console.log(updateCards)\r\n        setBoardCards(updateCards)\r\n\r\n\r\n        const data = _.cloneDeep(initialData)\r\n    }\r\n\r\n\r\n\r\n    // lift up state cards update in the different lists\r\n    const handleUpdateCardsBetweenLists = obj => {\r\n        console.log(obj)\r\n        console.log(id)\r\n        const { dragCardId, dragListId, dropCardId, dropListId } = obj\r\n\r\n        // handle source list\r\n        if (dragListId == id) {\r\n            console.log(id)\r\n        }\r\n\r\n        // onHandleGetDragList({ dragListId, dragCardId })\r\n        // should handle global state later\r\n        document.getElementById(dragCardId).remove()\r\n\r\n\r\n        const lists = _.cloneDeep(initialData.lists)\r\n        console.log(lists)\r\n        const dragCard = lists\r\n            .find(list => list.id == dragListId).cards\r\n            .find(card => card.id == dragCardId)\r\n\r\n        console.log(dragCard)\r\n\r\n        dragCard.listId = dropListId\r\n        console.log(dragCard)\r\n\r\n        const droppableCards = _.cloneDeep(boardCards)\r\n        // console.log(cards, dragCard)\r\n\r\n        // insert drag card after dropcard\r\n        const dropCardIndex = droppableCards.findIndex(card => card.id == dropCardId)\r\n        droppableCards.splice(dropCardIndex + 1, 0, dragCard)\r\n\r\n        console.log(droppableCards)\r\n        setBoardCards(droppableCards)\r\n\r\n\r\n    }\r\n\r\n\r\n    const cardInputRef = useRef()\r\n\r\n    // handle close when click outside\r\n    const addCardPanelRef = useRef()\r\n\r\n    useClickOutsideHandler(addCardPanelRef, () => setIsCardShown(false))\r\n\r\n    const handleDeleteList = id => {\r\n        dispatchList(deleteList(id))\r\n    }\r\n\r\n    const handleShowAddCardControl = () => {\r\n        setIsCardShown(true)\r\n\r\n        if (cardInputRef.current) {\r\n            cardInputRef.current.focus()\r\n        }\r\n    }\r\n\r\n\r\n    const handleAddCard = (listId) => {\r\n        if (!cardValue.trim()) return\r\n\r\n        const newCard = {\r\n            listId: listId,\r\n            id: 'card-' + createListId(),\r\n            content: cardValue.trim()\r\n        }\r\n\r\n        dispatchList(addCard(newCard))\r\n        // const updateCards = _.cloneDeep(cards)\r\n        // setBoardCards([...updateCards, newCard])\r\n        setCardValue(\"\")\r\n    }\r\n\r\n    const handleHideAddCardControl = () => {\r\n        setIsCardShown(false)\r\n    }\r\n\r\n    const handleKeyDownCardInput = (e) => {\r\n        if (e.keyCode == 13) {\r\n            handleAddCard(id)\r\n        }\r\n    }\r\n\r\n\r\n\r\n    // DnD\r\n\r\n\r\n    const [isMouseDown, setIsMouseDown] = useState(false)\r\n    // const [draggable, setDraggable] = useState(false)\r\n    // const [onDragCoordDif, setOnDragCoordDif] = useState({})\r\n    var onDragCoordDiff = {}\r\n\r\n    const handleDragStart = (e) => {\r\n        console.log(e.currentTarget.id)\r\n\r\n\r\n        var img = new Image();\r\n        img.src = 'data:image/gif;base64,R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs=';\r\n        e.dataTransfer.setDragImage(img, 0, 0);\r\n\r\n        e.dataTransfer.setData(\"text\", e.currentTarget.id);\r\n\r\n        const clonedEle = e.currentTarget.cloneNode(true)\r\n        clonedEle.id = 'clone-element'\r\n        clonedEle.style.display = \"none\"\r\n        e.currentTarget.closest(\".list-wrapper\").appendChild(clonedEle)\r\n\r\n\r\n\r\n        onDragCoordDiff = {\r\n            dx: e.currentTarget.getBoundingClientRect().x - e.clientX,\r\n            dy: e.currentTarget.getBoundingClientRect().y - e.clientY\r\n        }\r\n\r\n\r\n    }\r\n\r\n    const handleOnDrag = e => {\r\n        // console.log(\"List\", e)\r\n\r\n        // style source element\r\n        // e.target.style.display = \"none\"\r\n        e.currentTarget.style.pointerEvents = 'none'\r\n\r\n\r\n        const diffX = onDragCoordDiff.dx\r\n        const diffY = onDragCoordDiff.dy\r\n        // console.log(diffX, diffY)\r\n\r\n        const sourceEle = e.currentTarget\r\n        // console.log(e)\r\n        sourceEle.style.position = 'fixed'\r\n        sourceEle.style.width = '272px'\r\n        sourceEle.style.left = e.clientX + diffX + 'px'\r\n        sourceEle.style.top = e.clientY + diffY + 'px'\r\n        sourceEle.style.rotate = \"3deg\"\r\n        sourceEle.style.zIndex = 1000\r\n\r\n        const cloneEle = document.getElementById(\"clone-element\")\r\n        cloneEle.style.display = \"block\"\r\n        Array.from(cloneEle.querySelectorAll(\"div\")).forEach(div => {\r\n            // div.style.backgroundColor = \"red\"\r\n            div.style.visibility = \"hidden\"\r\n        })\r\n        cloneEle.style.backgroundColor = \"rgba(0, 0, 0, 0.2)\"\r\n        // console.log(\"on drag list\")\r\n    }\r\n\r\n\r\n    const handleDragEnd = (e) => {\r\n        // allow user to drag again \r\n        e.currentTarget.style.pointerEvents = 'auto'\r\n        // reset style\r\n        e.currentTarget.style.rotate = \"0deg\"\r\n        e.currentTarget.style.position = 'relative'\r\n        e.currentTarget.style.left = 0\r\n        e.currentTarget.style.top = 0\r\n        e.currentTarget.style.zIndex = 0\r\n        e.currentTarget.style.display = \"block\"\r\n\r\n\r\n        console.log('List drag end')\r\n\r\n        //disable drag attribute when mouse release\r\n        let allLists = Array.from(document.querySelectorAll(\".list-content\"))\r\n        allLists.forEach(list => list.setAttribute('draggable', false))\r\n\r\n        document.getElementById(\"clone-element\").remove()\r\n\r\n        // reset coordinate\r\n        onDragCoordDiff = {}\r\n\r\n    }\r\n\r\n    const handleOnDrop = (e) => {\r\n        e.preventDefault()\r\n\r\n        // console.log(e)\r\n\r\n\r\n        // handle sorting list ID logic\r\n        const sourceListId = e.dataTransfer.getData(\"text\")\r\n\r\n        // disable card drop on list\r\n        if (sourceListId.includes('&')) return\r\n\r\n        const targetListId = e.currentTarget.closest(\".list-content\").id\r\n\r\n        // console.log(\"Source: \", sourceListId)\r\n        // console.log(\"Target: \", targetListId)\r\n\r\n        if (sourceListId && targetListId) {\r\n            updateOrder(sourceListId, targetListId, initialData.listOrder)\r\n\r\n            // lift up state to App Component\r\n            dispatchList(updateListOrder(initialData.listOrder))\r\n        }\r\n\r\n    }\r\n\r\n    const handleDragOver = (e) => {\r\n        e.preventDefault();\r\n        // console.log('data duoc get la', e.dataTransfer);\r\n        // console.log('droppable element la ');\r\n\r\n\r\n\r\n    }\r\n\r\n    const handleOnClick = e => {\r\n        const value = e.currentTarget.getBoundingClientRect()\r\n        // console.log('rect', value.x, value.y)\r\n        // console.log('mouse', e.clientX, e.clientY)\r\n    }\r\n\r\n    useEffect(() => {\r\n        document.addEventListener('mouseup', (e) => {\r\n            e.preventDefault()\r\n            // console.log(\"Tha r ne\")\r\n            // setDraggable(false)\r\n        })\r\n    }, [])\r\n\r\n\r\n    // add draggable att to parent\r\n    const handleAddDraggable = (e) => {\r\n        e.currentTarget.closest(\".list-content\").setAttribute(\"draggable\", true)\r\n    }\r\n\r\n    const handleRemoveDraggable = (e) => {\r\n        e.currentTarget.closest(\".list-content\").setAttribute(\"draggable\", false)\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div className='list-wrapper droppable-columns' >\r\n            < div className=\"list-content\"\r\n                onDragStart={handleDragStart}\r\n                onDragEnd={handleDragEnd}\r\n                onDrag={handleOnDrag}\r\n                onClick={handleOnClick}\r\n                onDragOver={handleDragOver}\r\n                onDrop={handleOnDrop}\r\n                id={id}\r\n            >\r\n                <div className=\"list-heading\"\r\n                    onMouseDown={handleAddDraggable}\r\n                    onMouseUp={handleRemoveDraggable}\r\n                // onMouseMove={handleOnMouseMove}\r\n                >\r\n                    <h2 className=\"list-header-name\">\r\n                        {title}\r\n                    </h2>\r\n                </div>\r\n\r\n                <div className=\"list-cards\">\r\n                    {boardCards.map((card, index) => <Card\r\n                        key={card.id}\r\n                        card={card}\r\n                        onUpdateCardsSameList={handleUpdateCardsSameList}\r\n                        onUpdateCardsBetweenLists={handleUpdateCardsBetweenLists}\r\n                    // onHandleGetDragList={onHandleGetDragList}\r\n                    />)}\r\n                </div>\r\n\r\n                {\r\n                    !isCardShown && <div className=\"add-card-section\">\r\n                        <button className=\"add-btn\" onClick={handleShowAddCardControl}>+ Add a card</button>\r\n                        <button className=\"del-btn\" onClick={() => handleDeleteList(id)}>Delete</button>\r\n                    </div>\r\n                }\r\n\r\n                {\r\n                    isCardShown && <div className=\"add-card-control\" ref={addCardPanelRef}>\r\n                        <div className='first-row'>\r\n                            <textarea type=\"text\" className='add-card-title' placeholder='Enter a title  for this card...'\r\n                                ref={cardInputRef}\r\n                                value={cardValue}\r\n                                onChange={(e) => setCardValue(e.target.value)}\r\n                                onKeyDown={handleKeyDownCardInput} />\r\n                        </div>\r\n\r\n                        <div className='second-row'>\r\n                            <button className=\"add-list-btn\" onClick={() => handleAddCard(id)}>Add card</button>\r\n                            <button className=\"close-add-list-btn\" onClick={handleHideAddCardControl}>\r\n                                <CloseIcon />\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                }\r\n\r\n            </div >\r\n        </div >\r\n    )\r\n}\r\n\r\nexport default List "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}