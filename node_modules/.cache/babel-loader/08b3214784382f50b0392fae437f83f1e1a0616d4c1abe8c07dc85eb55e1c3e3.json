{"ast":null,"code":"var _jsxFileName = \"D:\\\\trello\\\\src\\\\components\\\\List\\\\index.jsx\",\n  _s = $RefreshSig$();\nimport React, { useContext, useRef, useState } from 'react';\nimport { Context } from '../../context';\nimport { addCard, deleteList } from '../../store/actions';\nimport ListCard from '../ListCard';\nimport CloseIcon from '@mui/icons-material/Close';\nimport useClickOutsideHandler from '../../hooks/useOnClickOutside';\nimport { createListId } from '../../utils';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction List(_ref) {\n  _s();\n  let {\n    list\n  } = _ref;\n  console.log('rerender');\n  const {\n    title,\n    cards,\n    id,\n    cardOrder\n  } = list;\n  const {\n    dispatchList\n  } = useContext(Context);\n  const [cardValue, setCardValue] = useState(\"\");\n  const [isCardShown, setIsCardShown] = useState(false);\n  const cardInputRef = useRef();\n\n  // handle close when click outside\n  const addCardPanelRef = useRef();\n  useClickOutsideHandler(addCardPanelRef, () => setIsCardShown(false));\n  const handleDeleteList = id => {\n    dispatchList(deleteList(id));\n  };\n  const handleShowAddCardControl = () => {\n    setIsCardShown(true);\n    if (cardInputRef.current) {\n      cardInputRef.current.focus();\n    }\n  };\n  const handleAddCard = id => {\n    if (!cardValue.trim()) return;\n    const newCard = {\n      listId: id,\n      id: createListId(),\n      content: cardValue.trim()\n    };\n    dispatchList(addCard(newCard));\n    setCardValue(\"\");\n  };\n  const handleHideAddCardControl = () => {\n    setIsCardShown(false);\n  };\n  const handleKeyDownCardInput = e => {\n    if (e.keyCode == 13) {\n      handleAddCard(id);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"list-content\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"list-heading\",\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"list-header-name\",\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"list-cards\",\n      children: cards.map((card, index) => /*#__PURE__*/_jsxDEV(ListCard, {\n        card: card\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 45\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }, this), !isCardShown && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"add-card-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"add-btn\",\n        onClick: handleShowAddCardControl,\n        children: \"+ Add a card\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"del-btn\",\n        onClick: () => handleDeleteList(id),\n        children: \"Delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 30\n    }, this), isCardShown && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"add-card-control\",\n      ref: addCardPanelRef,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"first-row\",\n        children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n          type: \"text\",\n          className: \"add-card-title\",\n          placeholder: \"Enter a title  for this card...\",\n          ref: cardInputRef,\n          value: cardValue,\n          onChange: e => setCardValue(e.target.value),\n          onKeyDown: handleKeyDownCardInput\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"second-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"add-list-btn\",\n          onClick: () => handleAddCard(id),\n          children: \"Add card\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"close-add-list-btn\",\n          onClick: handleHideAddCardControl,\n          children: /*#__PURE__*/_jsxDEV(CloseIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 29\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 9\n  }, this);\n}\n_s(List, \"SXZHwN/bpdbwy/SJrTDLAhoVQrQ=\", false, function () {\n  return [useClickOutsideHandler];\n});\n_c = List;\nexport default List;\nvar _c;\n$RefreshReg$(_c, \"List\");","map":{"version":3,"names":["React","useContext","useRef","useState","Context","addCard","deleteList","ListCard","CloseIcon","useClickOutsideHandler","createListId","List","list","console","log","title","cards","id","cardOrder","dispatchList","cardValue","setCardValue","isCardShown","setIsCardShown","cardInputRef","addCardPanelRef","handleDeleteList","handleShowAddCardControl","current","focus","handleAddCard","trim","newCard","listId","content","handleHideAddCardControl","handleKeyDownCardInput","e","keyCode","map","card","index","target","value"],"sources":["D:/trello/src/components/List/index.jsx"],"sourcesContent":["import React, { useContext, useRef, useState } from 'react'\r\nimport { Context } from '../../context'\r\nimport { addCard, deleteList } from '../../store/actions'\r\nimport ListCard from '../ListCard'\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport useClickOutsideHandler from '../../hooks/useOnClickOutside';\r\nimport { createListId } from '../../utils';\r\n\r\n\r\nfunction List({ list }) {\r\n    console.log('rerender')\r\n    const { title, cards, id, cardOrder } = list\r\n\r\n    const { dispatchList } = useContext(Context)\r\n\r\n    const [cardValue, setCardValue] = useState(\"\")\r\n    const [isCardShown, setIsCardShown] = useState(false)\r\n    \r\n\r\n    const cardInputRef = useRef()\r\n\r\n    // handle close when click outside\r\n    const addCardPanelRef = useRef()\r\n    useClickOutsideHandler(addCardPanelRef, () => setIsCardShown(false))\r\n\r\n    const handleDeleteList = id => {\r\n        dispatchList(deleteList(id))\r\n    }\r\n\r\n    const handleShowAddCardControl = () => {\r\n        setIsCardShown(true)\r\n\r\n        if (cardInputRef.current) {\r\n            cardInputRef.current.focus()\r\n        }\r\n    }\r\n\r\n\r\n    const handleAddCard = (id) => {\r\n        if (!cardValue.trim()) return\r\n\r\n        const newCard = {\r\n            listId: id,\r\n            id: createListId(),\r\n            content: cardValue.trim()\r\n        }\r\n\r\n        dispatchList(addCard(newCard))\r\n        setCardValue(\"\")\r\n\r\n\r\n    }\r\n\r\n    const handleHideAddCardControl = () => {\r\n        setIsCardShown(false)\r\n    }\r\n\r\n    const handleKeyDownCardInput = (e) => {\r\n        if (e.keyCode == 13) {\r\n            handleAddCard(id)\r\n        }\r\n    }\r\n\r\n    return (\r\n\r\n        <div className=\"list-content\">\r\n            <div className=\"list-heading\">\r\n                <h2 className=\"list-header-name\">\r\n                    {title}\r\n                </h2>\r\n            </div>\r\n\r\n            <div className=\"list-cards\">\r\n                {cards.map((card, index) => <ListCard key={index} card={card} />)}\r\n            </div>\r\n\r\n            {!isCardShown && <div className=\"add-card-section\">\r\n                <button className=\"add-btn\" onClick={handleShowAddCardControl}>+ Add a card</button>\r\n                <button className=\"del-btn\" onClick={() => handleDeleteList(id)}>Delete</button>\r\n            </div>}\r\n\r\n            {isCardShown && <div className=\"add-card-control\" ref={addCardPanelRef}>\r\n                <div className='first-row'>\r\n                    <textarea type=\"text\" className='add-card-title' placeholder='Enter a title  for this card...'\r\n                        ref={cardInputRef}\r\n                        value={cardValue}\r\n                        onChange={(e) => setCardValue(e.target.value)}\r\n                        onKeyDown={handleKeyDownCardInput} />\r\n                </div>\r\n\r\n                <div className='second-row'>\r\n                    <button className=\"add-list-btn\" onClick={() => handleAddCard(id)}>Add card</button>\r\n                    <button className=\"close-add-list-btn\" onClick={handleHideAddCardControl}>\r\n                        <CloseIcon />\r\n                    </button>\r\n                </div>\r\n            </div>}\r\n        </div>\r\n\r\n\r\n    )\r\n}\r\n\r\nexport default List"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}